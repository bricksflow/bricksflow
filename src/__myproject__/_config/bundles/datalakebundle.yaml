# overrides default bundle settings defined in site-packages/datalakebundle/_config/config.yaml
parameters:
  datalakebundle:
    notebook:
      module_template: '%daipe.root_module.name%.{layer}.{domain}.{table_identifier}.{table_identifier}'
    table:
      name_template: '%kernel.environment%_{identifier}'
      defaults:
        base_path: '%datalake.base_path%' # from config.yaml
        layer: !expr 'db_identifier[:db_identifier.find("_")]' # bronze/silver/gold
        domain: !expr 'db_identifier[db_identifier.find("_") + 1:]' # covid
        target_path: !expr 'base_path + "/" + layer + "/" + domain + "/" + table_identifier + ".delta"'
